<% provide(:page_class, 'page-view-details') %>

<%= form_with model: @notification, html: {id: "edit_form"} do |f| %>

  <%= render partial: "shared/error_list", locals: { errors: @notification.errors } %>

  <%= render layout: "layouts/collapsible_details", locals: {title: t('notification') } do %>
    <div class="row mat-form-row">
      <div class="col-md-6">
        <div>
          <%= render partial: "shared/object_definition_form", locals: {this_object: @notification, f: f, smallTextarea: true, isTechnical: false} %>
        </div>
      </div>

      <fieldset class="col-md-6">
        <div class="row mat-form-row">
          <div class="mat-form-field col-md-12">
            <%= render partial: "shared/object_responsibilities_form", locals: {this_object: @notification, f: f} %>
          </div>
        </div>

        <div class="row mat-form-row">
          <div class="mat-form-field col-md-4">
            <%= f.label :notification_severity_id, t('NotificationSeverity'), class: "mat-form-field-label" %>
            <%= f.collection_select :severity_id, options_for('rules_severity') , :id, :name, {}, { class: "mat-input-element select2-candidate" } %>
          </div>
          <div class="mat-form-field col-md-4">
            <%= f.label :notification_expected_at, t('NotificationDueDate'), class: "mat-form-field-label" %>
            <%= f.date_field :expected_at, { class: "mat-input-element" } %>
          </div>
          <div class="mat-form-field col-md-4">
            <%= f.label :notification_closed_at, t('NotificationCloseDate'), class: "mat-form-field-label" %>
            <%= f.date_field :closed_at, { class: "mat-input-element" } %>
          </div>
        </div>

      </fieldset>
    </div>
  <% end %>
<% end %>
