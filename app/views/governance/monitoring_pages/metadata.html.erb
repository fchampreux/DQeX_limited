<% provide(:title, t('Monitoring')) %>

<% provide(:page_class, 'page-view-details') %>

<% provide :page_heading do %>
  Monitoring
<% end %>

<div class="row">
  <div class="col-md-6">
    <h2> <%= t('SkillsByTheme') %> </h2>
    <div id="skills-by-theme">
      <%= render partial: "shared/render_pie", locals: {this_series: @skills_by_theme.map { |measure| {code: measure.themes_code, name: measure.themes_name, count: measure.count}}.to_json.html_safe, target: "skills-by-theme"} %>
    </div>
  </div>
  <div class="col-md-6">
    <h2> <%= t('SkillsByUser') %> </h2>
    <div id="skills-by-user">
      <%= render partial: "shared/render_pie", locals: {this_series: @skills_by_user.map { |measure| {code: measure.users_code, name: measure.users_name, count: measure.count}}.to_json.html_safe, target: "skills-by-user"} %>
    </div>
  </div>
</div>
<hr/>
<div class="row">
  <div class="col-md-6">
    <h2> <%= t('SkillsByWeek') %> </h2>
    <div id="skills-by-week">
      <%= render partial: "shared/render_bars", locals: {this_series: @skills_by_week.map { |measure| {index: measure.week, count: measure.count}}.to_json.html_safe, target: "skills-by-week"} %>
    </div>
  </div>
</div>
<hr/>
<div class="row">
  <div class="col-md-6">
    <h2> <%= t('TopTenSkills') %> </h2>
    <div id="top-10-skills">
      <%= render partial: "shared/top_skills_index", locals: {top_skills: @top_skills} %>
    </div>
  </div>
  <div class="col-md-6">
    <h2> <%= t('FlopTenSkills') %> </h2>
    <div id="flop-10-skills">
      <%= render partial: "shared/top_skills_index", locals: {top_skills: @flop_skills} %>
    </div>
  </div>
</div>
<hr/>
